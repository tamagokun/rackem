---
title: Documentation
layout: default
---

<section>
	<h1>Getting Started</h1>

	<p>The easiest way to get up and running is by installing <a href="">Composer</a>, go ahead and install it now if you haven't already.</p>

	<p>Once composer is installed, you can require <code>rackem/rackem</code> as a dependency of your project.</p>
	<pre class="terminal">
		<code>$ composer require rackem/rackem:@stable</code>
	</pre>

	<p>Installing Rack'em globally is also pretty cool:</p>
	<pre class="terminal">
		<code>$ composer global require rackem/rackem:@stable</code>
	</pre>
	<p>If you have installed rackem globally, you can serve rackem applications as simply as <code>rackem</code></p>

</section>

<section>
	<h2>Your first Rack'em application</h2>

	<p>The best way to explain how Rack'em works is to dive right in with a tutorial.</p>

	<h3>Create a project</h3>

	<p>Create a project and require <code>rackem/rackem</code></p>

	<pre class="terminal">
	<code>$ mkdir tutorial
$ cd tutorial
$ composer require rackem/rackem:@stable
$ composer install</code>
	</pre>

	<h3>Create an application</h3>

	<p>A Rack'em application is any object that reponds to the method <code>call()</code> or a function closure. The rackem utility by default will look for <code>config.php</code> as your main application script, so we will create one now.</p>

	<pre class="terminal">
	<code>$ touch config.php</code>
	</pre>

	{% highlight php %}
<?php
# config.php
return \Rackem::run(function($env) {
		return array(
			200,
			array("Content-Type"=>"text/html"),
			array("<h1>Hello, from Rack'em!</h1>")
		);
});
	{% endhighlight %}

	<p>A Rack'em application must return an array containing the HTTP response status, headers, and body. In our example application you can see that we are specifying a 200 response code, setting the Content Type to text/html, and supplying a short html greeting.</p>

	<h3>Run it</h3>

	<p>Once you have your config.php saved, all you need to do is run the rackem utility, and your first application is running!</p>

	<pre class="terminal">
	<code>$ vendor/bin/rackem
== Rackem on http://0.0.0.0:9393
>> Rackem web server
>> Listening on 0.0.0.0:9393, CTRL+C to stop</code>
	</pre>

	<p>Browse to http://localhost:9393 to see the output.</p>

</section>

<section>
	<h2>rackem</h2>

	<p>The rackem utility is a tiny web server that can serve up any Rack'em application. Though it is pretty fast when used developing locally, I would not recommend using it as a production web server.</p>

	<p>When running the server, it will by default look for your main application script in config.php, you can alternatively specify the name of your main application script.</p>

	<pre class="terminal">
	<code>$ vendor/bin/rackem index.php</code>
	</pre>

	<p>By default rackem will run on localhost with port 9393. Both host and port are configurable:</p>

	<pre class="terminal">
	<code>$ vendor/bin/rackem index.php --host dev.local --port 3000</code>
	</pre>

	<p>If you pass <code>--basic</code> rackem will give you a basic html web server for serving up static websites.</p>

	<pre class="terminal">
	<code>$ vendor/bin/rackem --basic</code>
	</pre>

</section>

<section>
	<h1>Class Reference</h1>
</section>

<section>
	<h2>Rackem</h2>
	<ul class="settings">
		<li>
			<code data-language="php">\Rackem::map($path, $app)</code>
		</li>
		<li>
			<code data-language="php">\Rackem::use_middleware($middleware, $options = array())</code>
		</li>
		<li>
			<code data-language="php">\Rackem::run($app)</code>
		</li>
	</ul>
</section>

<section>
	<h2>Rackem\Builder</h2>
	<ul class="settings">

		<li>
			<code data-language="php">__construct($app = null, $middleware = array() )</code>
		</li>
		<li>
			<code data-language="php">->call($env)</code>
		</li>
		<li>
			<code data-language="php">->map($path, $app)</code>
		</li>
		<li>
			<code data-language="php">->run($app)</code>
		</li>
		<li>
			<code data-language="php">->use_middleware($middleware, $options = array())</code>
		</li>

	</ul>

</section>

<section>
	<h2>Rackem\Exception</h2>
	<ul class="settings">
		<li>
			<code data-language="php">__construct($status, $header, $body)</code>
		</li>
		<li>
			<code data-language="php">->finish()</code>
		</li>
	</ul>
</section>

<section>
	<h2>Rackem\File</h2>

	<ul class="settings">
		<li>
			<code data-language="php">__construct($root_path, $cache_control = null)</code>
		</li>
		<li>
			<code data-language="php">->call($env)</code>
		</li>
		<li>
			<code data-language="php">->serving($env)</code>
		</li>
	</ul>

</section>

<section>
	<h2>Rackem\Middleware</h2>
	<ul class="settings">
		<li>
			<code data-language="php">__construct($app, $options = array())</code>
		</li>
		<li>
			<code data-language="php">->call($env)</code>
		</li>
	</ul>

</section>

<section>
	<h2>Rackem\Protection</h2>
	<ul class="settings">
		<li>
			<code data-language="php">\Rackem\Protection::protect($except = array(), $rackem = "\Rackem")</code>
		</li>
	</ul>

</section>

<section>
	<h2>Rackem\Request</h2>
	<ul class="settings">
		<li>
			<code data-language="php">__construct($env = aray())</code>
		</li>
		<li>
			<code data-language="php">->base_url()</code>
		</li>
		<li>
			<code data-language="php">->body()</code>
		</li>
		<li>
			<code data-language="php">->content_length()</code>
		</li>
		<li>
			<code data-language="php">->content_type()</code>
		</li>
		<li>
			<code data-language="php">->cookies($key = null)</code>
		</li>
		<li>
			<code data-language="php">->form_data()</code>
		</li>
		<li>
			<code data-language="php">->fullpath()</code>
		</li>
		<li>
			<code data-language="php">->get()</code>
		</li>
		<li>
			<code data-language="php">->host()</code>
		</li>
		<li>
			<code data-language="php">->host_with_port()</code>
		</li>
		<li>
			<code data-language="php">->is_delete()</code>
		</li>
		<li>
			<code data-language="php">->is_get()</code>
		</li>
		<li>
			<code data-language="php">->is_head()</code>
		</li>
		<li>
			<code data-language="php">->is_options()</code>
		</li>
		<li>
			<code data-language="php">->is_patch()</code>
		</li>
		<li>
			<code data-language="php">->is_post()</code>
		</li>
		<li>
			<code data-language="php">->is_put()</code>
		</li>
		<li>
			<code data-language="php">->is_trace()</code>
		</li>
		<li>
			<code data-language="php">->is_xhr()</code>
		</li>
		<li>
			<code data-language="php">->logger()</code>
		</li>
		<li>
			<code data-language="php">->media_type()</code>
		</li>
		<li>
			<code data-language="php">->media_type_params()</code>
		</li>
		<li>
			<code data-language="php">->content_charset()</code>
		</li>
		<li>
			<code data-language="php">->params()</code>
		</li>
		<li>
			<code data-language="php">->parseable_data()</code>
		</li>
		<li>
			<code data-language="php">->path()</code>
		</li>
		<li>
			<code data-language="php">->path_info()</code>
		</li>
		<li>
			<code data-language="php">->port()</code>
		</li>
		<li>
			<code data-language="php">->post()</code>
		</li>
		<li>
			<code data-language="php">->query_string()</code>
		</li>
		<li>
			<code data-language="php">->referer()</code>
		</li>
		<li>
			<code data-language="php">->request_method()</code>
		</li>
		<li>
			<code data-language="php">->session($key = null)</code>
		</li>
		<li>
			<code data-language="php">->scheme()</code>
		</li>
		<li>
			<code data-language="php">->ssl()</code>
		</li>
		<li>
			<code data-language="php">->url()</code>
		</li>
		<li>
			<code data-language="php">->user_agent()</code>
		</li>
	</ul>

</section>

<section>
	<h2>Rackem\Response</h2>
	<ul class="settings">
		<li>
			<code data-language="php">__construct($body = array(), $status = 200, $header = array())</code>
		</li>
		<li>
			<code data-language="php">[]</code>
		</li>
		<li>
			<code data-language="php">->body(), __toString()</code>
		</li>
		<li>
			<code data-language="php">->finish()</code>
		</li>
		<li>
			<code data-language="php">->redirect($target, $status = 302)</code>
		</li>
		<li>
			<code data-language="php">->send($args)</code>
		</li>
		<li>
			<code data-language="php">->write($body)</code>
		</li>
		<li>
			<code data-language="php">->set_cookie($key, $value = array())</code>
		</li>
		<li>
			<code data-language="php">->delete_cookie($key, $value = array())</code>
		</li>
	</ul>

</section>
